{"ast":null,"code":"import _defineProperty from\"/Users/emilymarinaro/Documents/UCLA /projects/Homework/books_mern_app/books_mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/emilymarinaro/Documents/UCLA /projects/Homework/books_mern_app/books_mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emilymarinaro/Documents/UCLA /projects/Homework/books_mern_app/books_mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/emilymarinaro/Documents/UCLA /projects/Homework/books_mern_app/books_mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/emilymarinaro/Documents/UCLA /projects/Homework/books_mern_app/books_mern/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Jumbotron from\"../components/Jumbotron\";import Nav from\"../components/Nav\";import Input from\"../components/Input\";import Button from\"../components/Button\";import SaveBtn from\"../components/SaveBtn\";import API from\"../utils/API\";import{Container,Row,Col}from\"../components/Grid\";import{BookList,BookListItem}from\"../components/BookList\";var Books=/*#__PURE__*/function(_Component){_inherits(Books,_Component);var _super=_createSuper(Books);function Books(){var _this;_classCallCheck(this,Books);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={result:[],bookSearch:\"\"};_this.loadBooks=function(query){var q=query?query:\"\";API.getSearchedBook(q).then(function(res){return _this.setState({result:res.data});}).catch(function(err){return console.log(err);});};_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();_this.loadBooks(_this.state.bookSearch);};_this.handleSaveBook=function(id){var book=_this.state.result.items.find(function(book){return book.id===id;});API.saveBook({key:book.id,title:book.volumeInfo.title,authors:book.volumeInfo.authors,description:book.volumeInfo.description,image:book.volumeInfo.imageLinks.smallThumbnail,link:book.volumeInfo.infoLink});};return _this;}_createClass(Books,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadBooks(\"Ready Player One\");}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Nav,null),/*#__PURE__*/React.createElement(Jumbotron,null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-8\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"xs-9 sm-10\"},/*#__PURE__*/React.createElement(Input,{name:\"bookSearch\",value:this.state.bookSearch,onChange:this.handleInputChange,placeholder:\"Search For a Book\"})),/*#__PURE__*/React.createElement(Col,{size:\"xs-3 sm-2\"},/*#__PURE__*/React.createElement(Button,{onClick:this.handleFormSubmit,type:\"success\",className:\"input-lg\"},\"Search\"))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"xs-12\"},!this.state.result.items?/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center\"},\"No Books to Display\"):/*#__PURE__*/React.createElement(BookList,null,this.state.result.items.map(function(book){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BookListItem,{key:book.id,title:book.volumeInfo.title,href:book.volumeInfo.infoLink,authors:book.volumeInfo.authors,description:book.volumeInfo.description,image:book.volumeInfo.imageLinks.smallThumbnail}),/*#__PURE__*/React.createElement(SaveBtn,{onClick:function onClick(){return _this2.handleSaveBook(book.id);}}),/*#__PURE__*/React.createElement(\"hr\",null));}))))));}}]);return Books;}(Component);export default Books;","map":{"version":3,"sources":["/Users/emilymarinaro/Documents/UCLA /projects/Homework/books_mern_app/books_mern/client/src/pages/Books.js"],"names":["React","Component","Jumbotron","Nav","Input","Button","SaveBtn","API","Container","Row","Col","BookList","BookListItem","Books","state","result","bookSearch","loadBooks","query","q","getSearchedBook","then","res","setState","data","catch","err","console","log","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","handleSaveBook","id","book","items","find","saveBook","key","title","volumeInfo","authors","description","image","imageLinks","smallThumbnail","link","infoLink","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport Nav from \"../components/Nav\";\nimport Input from \"../components/Input\";\nimport Button from \"../components/Button\";\nimport SaveBtn from \"../components/SaveBtn\";\nimport API from \"../utils/API\";\nimport { Container, Row, Col } from \"../components/Grid\";\nimport { BookList, BookListItem } from \"../components/BookList\";\n\nclass Books extends Component {\n  state = {\n    result: [],\n    bookSearch: \"\",\n  };\n\n  componentDidMount() {\n    this.loadBooks(\"Ready Player One\");\n  }\n\n  loadBooks = (query) => {\n    const q = query ? query : \"\";\n    API.getSearchedBook(q)\n      .then((res) =>\n        this.setState({\n          result: res.data,\n        })\n      )\n      .catch((err) => console.log(err));\n  };\n\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.loadBooks(this.state.bookSearch);\n  };\n\n  handleSaveBook = (id) => {\n    const book = this.state.result.items.find((book) => book.id === id);\n\n    API.saveBook({\n      key: book.id,\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors,\n      description: book.volumeInfo.description,\n      image: book.volumeInfo.imageLinks.smallThumbnail,\n      link: book.volumeInfo.infoLink,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <Nav />\n        <Jumbotron />\n        <Container>\n          <Row>\n            <Col size=\"md-8\">\n              <form>\n                <Container>\n                  <Row>\n                    <Col size=\"xs-9 sm-10\">\n                      <Input\n                        name=\"bookSearch\"\n                        value={this.state.bookSearch}\n                        onChange={this.handleInputChange}\n                        placeholder=\"Search For a Book\"\n                      />\n                    </Col>\n                    <Col size=\"xs-3 sm-2\">\n                      <Button\n                        onClick={this.handleFormSubmit}\n                        type=\"success\"\n                        className=\"input-lg\"\n                      >\n                        Search\n                      </Button>\n                    </Col>\n                  </Row>\n                </Container>\n              </form>\n            </Col>\n          </Row>\n          <Row>\n            <Col size=\"xs-12\">\n              {!this.state.result.items ? (\n                <h2 className=\"text-center\">No Books to Display</h2>\n              ) : (\n                <BookList>\n                  {this.state.result.items.map((book) => {\n                    return (\n                      <div>\n                        <BookListItem\n                          key={book.id}\n                          title={book.volumeInfo.title}\n                          href={book.volumeInfo.infoLink}\n                          authors={book.volumeInfo.authors}\n                          description={book.volumeInfo.description}\n                          image={book.volumeInfo.imageLinks.smallThumbnail}\n                        />\n                        <SaveBtn\n                          onClick={() => this.handleSaveBook(book.id)}\n                        ></SaveBtn>\n                        <hr></hr>\n                      </div>\n                    );\n                  })}\n                </BookList>\n              )}\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}